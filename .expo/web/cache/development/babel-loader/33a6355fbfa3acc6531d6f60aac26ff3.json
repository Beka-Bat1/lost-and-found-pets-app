{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\reactNative\\\\test\\\\screens\\\\MapScreen.js\";\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport MapView, { Marker } from 'react-native-maps';\nimport Colors from \"../constants/Colors\";\nimport { useNavigation } from '@react-navigation/native';\n\nvar MapScreen = function MapScreen(props) {\n  var _useNavigation = useNavigation(),\n      getParams = _useNavigation.getParams,\n      navigate = _useNavigation.navigate,\n      setParams = _useNavigation.setParams;\n\n  var initialLocation = getParams('initialLocation');\n  var readonly = getParams('readonly');\n\n  var _useState = useState(initialLocation),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedLocation = _useState2[0],\n      setSelectedLocation = _useState2[1];\n\n  var mapRegion = {\n    latitude: initialLocation ? initialLocation.lat : 37.78,\n    longitude: initialLocation ? initialLocation.lng : -122.43,\n    latitudeDelta: 0.0922,\n    longitudeDelta: 0.0421\n  };\n\n  var selectLocationHandler = function selectLocationHandler(event) {\n    if (readonly) {\n      return;\n    }\n\n    setSelectedLocation({\n      lat: event.nativeEvent.coordinate.latitude,\n      lng: event.nativeEvent.coordinate.longitude\n    });\n  };\n\n  var savePickedLocationHandler = useCallback(function () {\n    if (!selectedLocation) {\n      Alert.alert('No Location picked');\n      return;\n    }\n\n    navigate('NewPlace', {\n      pickedLocation: selectedLocation\n    });\n  }, [selectedLocation]);\n  useEffect(function () {\n    setParams({\n      saveLocation: savePickedLocationHandler\n    });\n  }, [savePickedLocationHandler]);\n  var markerCoordinates;\n\n  if (selectedLocation) {\n    markerCoordinates = {\n      latitude: selectedLocation.lat,\n      longitude: selectedLocation.lng\n    };\n  }\n\n  return React.createElement(MapView, {\n    style: styles.map,\n    region: mapRegion,\n    onPress: selectLocationHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, markerCoordinates && React.createElement(Marker, {\n    title: \"Picked Location\",\n    coordinate: markerCoordinates,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }));\n};\n\nMapScreen.navigationOptions = function (navData) {\n  var saveFn = navData.navigation.getParam('saveLocation');\n  var readonly = navData.navigation.getParam('readonly');\n\n  if (readonly) {\n    return {};\n  }\n\n  return {\n    headerRight: React.createElement(TouchableOpacity, {\n      style: styles.headerButton,\n      onPress: saveFn,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: styles.headerButtonText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, \"Save\"))\n  };\n};\n\nvar styles = StyleSheet.create({\n  map: {\n    flex: 1\n  },\n  headerButton: {\n    marginHorizontal: 20\n  },\n  headerButtonText: {\n    fontSize: 16,\n    color: Platform.OS === 'android' ? 'white' : Colors.primary\n  }\n});\nexport default MapScreen;","map":{"version":3,"sources":["C:/Users/user/Desktop/reactNative/test/screens/MapScreen.js"],"names":["React","useState","useEffect","useCallback","MapView","Marker","Colors","useNavigation","MapScreen","props","getParams","navigate","setParams","initialLocation","readonly","selectedLocation","setSelectedLocation","mapRegion","latitude","lat","longitude","lng","latitudeDelta","longitudeDelta","selectLocationHandler","event","nativeEvent","coordinate","savePickedLocationHandler","Alert","alert","pickedLocation","saveLocation","markerCoordinates","styles","map","navigationOptions","navData","saveFn","navigation","getParam","headerRight","headerButton","headerButtonText","StyleSheet","create","flex","marginHorizontal","fontSize","color","Platform","OS","primary"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;;;;;;AAQA,OAAOC,OAAP,IAAkBC,MAAlB,QAAgC,mBAAhC;AAEA,OAAOC,MAAP;AACA,SAASC,aAAT,QAA8B,0BAA9B;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,KAAK,EAAI;AAEzB,uBAAyCF,aAAa,EAAtD;AAAA,MAAOG,SAAP,kBAAOA,SAAP;AAAA,MAAkBC,QAAlB,kBAAkBA,QAAlB;AAAA,MAA4BC,SAA5B,kBAA4BA,SAA5B;;AAEA,MAAMC,eAAe,GAAGH,SAAS,CAAC,iBAAD,CAAjC;AACA,MAAMI,QAAQ,GAAGJ,SAAS,CAAC,UAAD,CAA1B;;AAEA,kBAAgDT,QAAQ,CAACY,eAAD,CAAxD;AAAA;AAAA,MAAOE,gBAAP;AAAA,MAAyBC,mBAAzB;;AAEA,MAAMC,SAAS,GAAG;AAChBC,IAAAA,QAAQ,EAAEL,eAAe,GAAGA,eAAe,CAACM,GAAnB,GAAyB,KADlC;AAEhBC,IAAAA,SAAS,EAAEP,eAAe,GAAGA,eAAe,CAACQ,GAAnB,GAAyB,CAAC,MAFpC;AAGhBC,IAAAA,aAAa,EAAE,MAHC;AAIhBC,IAAAA,cAAc,EAAE;AAJA,GAAlB;;AAOA,MAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAAC,KAAK,EAAI;AACrC,QAAIX,QAAJ,EAAc;AACZ;AACD;;AACDE,IAAAA,mBAAmB,CAAC;AAClBG,MAAAA,GAAG,EAAEM,KAAK,CAACC,WAAN,CAAkBC,UAAlB,CAA6BT,QADhB;AAElBG,MAAAA,GAAG,EAAEI,KAAK,CAACC,WAAN,CAAkBC,UAAlB,CAA6BP;AAFhB,KAAD,CAAnB;AAID,GARD;;AAUA,MAAMQ,yBAAyB,GAAGzB,WAAW,CAAC,YAAM;AAClD,QAAI,CAACY,gBAAL,EAAuB;AACrBc,MAAAA,KAAK,CAACC,KAAN,CAAY,oBAAZ;AACA;AACD;;AACDnB,IAAAA,QAAQ,CAAC,UAAD,EAAa;AAAEoB,MAAAA,cAAc,EAAEhB;AAAlB,KAAb,CAAR;AACD,GAN4C,EAM1C,CAACA,gBAAD,CAN0C,CAA7C;AAQAb,EAAAA,SAAS,CAAC,YAAM;AACdU,IAAAA,SAAS,CAAC;AAAEoB,MAAAA,YAAY,EAAEJ;AAAhB,KAAD,CAAT;AACD,GAFQ,EAEN,CAACA,yBAAD,CAFM,CAAT;AAIA,MAAIK,iBAAJ;;AAEA,MAAIlB,gBAAJ,EAAsB;AACpBkB,IAAAA,iBAAiB,GAAG;AAClBf,MAAAA,QAAQ,EAAEH,gBAAgB,CAACI,GADT;AAElBC,MAAAA,SAAS,EAAEL,gBAAgB,CAACM;AAFV,KAApB;AAID;;AAED,SACE,oBAAC,OAAD;AACE,IAAA,KAAK,EAAEa,MAAM,CAACC,GADhB;AAEE,IAAA,MAAM,EAAElB,SAFV;AAGE,IAAA,OAAO,EAAEO,qBAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGS,iBAAiB,IAChB,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,iBAAd;AAAgC,IAAA,UAAU,EAAEA,iBAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CADF;AAWD,CA1DD;;AA4DAzB,SAAS,CAAC4B,iBAAV,GAA8B,UAAAC,OAAO,EAAI;AACvC,MAAMC,MAAM,GAAGD,OAAO,CAACE,UAAR,CAAmBC,QAAnB,CAA4B,cAA5B,CAAf;AACA,MAAM1B,QAAQ,GAAGuB,OAAO,CAACE,UAAR,CAAmBC,QAAnB,CAA4B,UAA5B,CAAjB;;AACA,MAAI1B,QAAJ,EAAc;AACZ,WAAO,EAAP;AACD;;AACD,SAAO;AACL2B,IAAAA,WAAW,EACT,oBAAC,gBAAD;AAAkB,MAAA,KAAK,EAAEP,MAAM,CAACQ,YAAhC;AAA8C,MAAA,OAAO,EAAEJ,MAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEJ,MAAM,CAACS,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAFG,GAAP;AAOD,CAbD;;AAeA,IAAMT,MAAM,GAAGU,UAAU,CAACC,MAAX,CAAkB;AAC/BV,EAAAA,GAAG,EAAE;AACHW,IAAAA,IAAI,EAAE;AADH,GAD0B;AAI/BJ,EAAAA,YAAY,EAAE;AACZK,IAAAA,gBAAgB,EAAE;AADN,GAJiB;AAO/BJ,EAAAA,gBAAgB,EAAE;AAChBK,IAAAA,QAAQ,EAAE,EADM;AAEhBC,IAAAA,KAAK,EAAEC,QAAQ,CAACC,EAAT,KAAgB,SAAhB,GAA4B,OAA5B,GAAsC7C,MAAM,CAAC8C;AAFpC;AAPa,CAAlB,CAAf;AAaA,eAAe5C,SAAf","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  Platform\n} from 'react-native';\nimport MapView, { Marker } from 'react-native-maps';\n\nimport Colors from '../constants/Colors';\nimport { useNavigation } from '@react-navigation/native'\n\nconst MapScreen = props => {\n\n  const {getParams, navigate, setParams} = useNavigation();\n\n  const initialLocation = getParams('initialLocation');\n  const readonly = getParams('readonly');\n\n  const [selectedLocation, setSelectedLocation] = useState(initialLocation);\n\n  const mapRegion = {\n    latitude: initialLocation ? initialLocation.lat : 37.78,\n    longitude: initialLocation ? initialLocation.lng : -122.43,\n    latitudeDelta: 0.0922,\n    longitudeDelta: 0.0421\n  };\n\n  const selectLocationHandler = event => {\n    if (readonly) {\n      return;\n    }\n    setSelectedLocation({\n      lat: event.nativeEvent.coordinate.latitude,\n      lng: event.nativeEvent.coordinate.longitude\n    });\n  };\n\n  const savePickedLocationHandler = useCallback(() => {\n    if (!selectedLocation) {\n      Alert.alert('No Location picked')\n      return;\n    }\n    navigate('NewPlace', { pickedLocation: selectedLocation });\n  }, [selectedLocation]);\n\n  useEffect(() => {\n    setParams({ saveLocation: savePickedLocationHandler });\n  }, [savePickedLocationHandler]);\n\n  let markerCoordinates;\n\n  if (selectedLocation) {\n    markerCoordinates = {\n      latitude: selectedLocation.lat,\n      longitude: selectedLocation.lng\n    };\n  }\n\n  return (\n    <MapView\n      style={styles.map}\n      region={mapRegion}\n      onPress={selectLocationHandler}\n    >\n      {markerCoordinates && (\n        <Marker title=\"Picked Location\" coordinate={markerCoordinates} />\n      )}\n    </MapView>\n  );\n};\n\nMapScreen.navigationOptions = navData => {\n  const saveFn = navData.navigation.getParam('saveLocation');\n  const readonly = navData.navigation.getParam('readonly');\n  if (readonly) {\n    return {};\n  }\n  return {\n    headerRight: (\n      <TouchableOpacity style={styles.headerButton} onPress={saveFn}>\n        <Text style={styles.headerButtonText}>Save</Text>\n      </TouchableOpacity>\n    )\n  };\n};\n\nconst styles = StyleSheet.create({\n  map: {\n    flex: 1\n  },\n  headerButton: {\n    marginHorizontal: 20\n  },\n  headerButtonText: {\n    fontSize: 16,\n    color: Platform.OS === 'android' ? 'white' : Colors.primary\n  }\n});\n\nexport default MapScreen;\n"]},"metadata":{},"sourceType":"module"}